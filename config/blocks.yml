services:
    dls.web.blocks.manager:
        class: dls\web\core\block\block_manager
        arguments:
            - '@service_container'

    dls.web.blocks.collection:
        class: phpbb\di\service_collection
        arguments:
            - '@service_container'
        tags:
            - { name: service_collection, tag: dls.web.blocks }

    dls.web.blocks.provaider:
        class: dls\web\core\block\provaider
        arguments:
            - '@config'
            - '@dbal.conn'
            - '%dls.web.tables.blocks%'
            - '%dls.web.tables.blocks_data%'
            - '@cache'

    dls.web.blocks.extension:
        class: dls\web\core\twig\extension
        arguments:
            - '@dls.web.blocks.provaider'
        tags:
            - { name: twig.extension }

# ----- Blocks -----
    dls.web.block.information:
        class: dls\web\core\block\information
        arguments:
            - '@template'
            - '@dispatcher'
        tags:
            - { name: dls.web.blocks }

    dls.web.block.the_team:
        class: dls\web\core\block\the_team
        arguments:
            - '@dbal.conn'
            - '@language'
            - '@template'
            - '@dls.web.helper'
        tags:
            - { name: dls.web.blocks }

    dls.web.block.top_posters:
        class: dls\web\core\block\top_posters
        arguments:
            - '@dbal.conn'
            - '@template'
        tags:
            - { name: dls.web.blocks }

    dls.web.block.recent_posts:
        class: dls\web\core\block\recent_posts
        arguments:
            - '@dbal.conn'
            - '@template'
            - '@dls.web.helper'
            - '%core.root_path%'
        tags:
            - { name: dls.web.blocks }

    dls.web.block.recent_topics:
        class: dls\web\core\block\recent_topics
        arguments:
            - '@dbal.conn'
            - '@template'
            - '@dls.web.helper'
            - '%core.root_path%'
        tags:
            - { name: dls.web.blocks }

    dls.web.block.whos_online:
        class: dls\web\core\block\whos_online
        arguments:
            - '@auth'
            - '@dbal.conn'
            - '@language'
            - '@user'
            - '@template'
            - '@dls.web.helper'
            - '@dispatcher'
            - '%core.root_path%'
        tags:
            - { name: dls.web.blocks }
